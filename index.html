<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgriLink360 - AI for Zero Hunger</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header with Animation */
        .header {
            background: white;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            animation: slideDown 0.6s ease;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.1), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 200%; }
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header h1 {
            color: #2d3748;
            font-size: 3em;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
        }

        .header p {
            color: #718096;
            font-size: 1.2em;
        }

        .sdg-badge {
            display: inline-block;
            background: #2ecc71;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            margin-top: 15px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(46, 204, 113, 0.3);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            gap: 10px;
            background: white;
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            flex-wrap: wrap;
        }

        .tab-btn {
            flex: 1;
            min-width: 150px;
            padding: 15px 25px;
            border: none;
            background: #f7fafc;
            color: #4a5568;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .tab-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .tab-btn:hover::before {
            left: 100%;
        }

        .tab-btn:hover {
            background: #e2e8f0;
            transform: translateY(-2px);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 50px rgba(0,0,0,0.15);
        }

        .card h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.8em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .icon {
            font-size: 1.5em;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            color: #4a5568;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 1em;
            transition: all 0.3s;
            background: white;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            transform: scale(1.02);
        }

        .input-range-container {
            position: relative;
        }

        .range-value {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: #667eea;
            color: white;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 0.9em;
            font-weight: bold;
            pointer-events: none;
        }

        /* Enhanced Button */
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 18px 40px;
            border: none;
            border-radius: 12px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255,255,255,0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
        }

        .btn:active {
            transform: translateY(-1px);
        }

        .btn.loading {
            pointer-events: none;
            opacity: 0.8;
        }

        .btn.loading::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            top: 50%;
            left: 50%;
            margin: -10px 0 0 -10px;
            border: 3px solid transparent;
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Result Box with Animation */
        .result-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin-top: 20px;
            display: none;
            animation: slideUp 0.5s ease;
            position: relative;
            overflow: hidden;
        }

        .result-box::before {
            content: 'üéâ';
            position: absolute;
            font-size: 100px;
            opacity: 0.1;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation: rotate 10s linear infinite;
        }

        @keyframes rotate {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-box h3 {
            font-size: 1.5em;
            margin-bottom: 10px;
            position: relative;
        }

        .result-value {
            font-size: 4em;
            font-weight: bold;
            margin: 20px 0;
            position: relative;
            animation: countUp 1s ease;
        }

        @keyframes countUp {
            from {
                opacity: 0;
                transform: scale(0.5);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Stats Grid with Animation */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .stat-card {
            background: rgba(255,255,255,0.15);
            padding: 20px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            transition: all 0.3s;
            cursor: pointer;
        }

        .stat-card:hover {
            background: rgba(255,255,255,0.25);
            transform: scale(1.05);
        }

        .stat-card h4 {
            font-size: 0.9em;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .stat-card p {
            font-size: 1.8em;
            font-weight: bold;
        }

        /* Chart Container */
        .chart-container {
            position: relative;
            height: 300px;
            margin: 20px 0;
        }

        .chart-container canvas {
            border-radius: 10px;
        }

        /* Progress Bar */
        .progress-container {
            background: #e2e8f0;
            height: 8px;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            width: 0;
            transition: width 1s ease;
            border-radius: 10px;
        }

        /* Monitor/Detector Section */
        .monitor-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .monitor-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .monitor-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 25px;
            border-radius: 15px;
            color: white;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .monitor-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: ripple 3s infinite;
        }

        @keyframes ripple {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(1); opacity: 0; }
        }

        .monitor-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 40px rgba(245, 87, 108, 0.4);
        }

        .monitor-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .monitor-card h3 {
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .monitor-value {
            font-size: 2.5em;
            font-weight: bold;
            margin: 10px 0;
        }

        .monitor-status {
            display: inline-block;
            padding: 5px 15px;
            background: rgba(255,255,255,0.3);
            border-radius: 20px;
            font-size: 0.9em;
            margin-top: 10px;
        }

        /* Recommendation Box */
        .recommendation {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            border-left: 4px solid #ffc107;
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
            color: #856404;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .recommendation h4 {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .recommendation ul {
            margin-left: 20px;
            line-height: 1.8;
        }

        /* Full Width Card */
        .full-width {
            grid-column: 1 / -1;
        }

        /* Info Grid with Graphs */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .info-card {
            background: #f7fafc;
            padding: 25px;
            border-radius: 15px;
            border-left: 4px solid #667eea;
            transition: all 0.3s;
        }

        .info-card:hover {
            background: white;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            transform: translateX(5px);
        }

        .info-card h4 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 1.2em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .info-card p {
            color: #718096;
            line-height: 1.8;
        }

        /* Loading Spinner */
        .spinner {
            display: none;
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }

            .nav-tabs {
                flex-direction: column;
            }

            .tab-btn {
                width: 100%;
            }
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: #555;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 8px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.9em;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üåæ AgriLink360</h1>
            <p>AI-Powered Crop Yield Prediction & Agricultural Monitoring</p>
            <span class="sdg-badge">SDG 2: Zero Hunger</span>
            <div style="margin-top: 20px; padding-top: 20px; border-top: 2px solid #e2e8f0;">
                <p style="color: #4a5568; font-size: 0.95em; font-weight: 600;">
                    Developed by <span style="color: #667eea; font-weight: bold;">Happy Igho Umukoro</span>
                </p>
                <p style="color: #718096; font-size: 0.85em; margin-top: 5px;">
                    AI for Software Expert
                </p>
            </div>
        </div>

        <!-- Navigation Tabs -->
        <div class="nav-tabs">
            <button class="tab-btn active" onclick="showTab('predictor')">
                üéØ Yield Predictor
            </button>
            <button class="tab-btn" onclick="showTab('monitor')">
                üìä Farm Monitor
            </button>
            <button class="tab-btn" onclick="showTab('analytics')">
                üìà Analytics
            </button>
            <button class="tab-btn" onclick="showTab('impact')">
                üåç SDG Impact
            </button>
        </div>

        <!-- Tab 1: Predictor -->
        <div id="predictor" class="tab-content active">
            <div class="main-grid">
                <div class="card">
                    <h2><span class="icon">üìä</span> Input Farm Data</h2>
                    <form id="predictionForm">
                        <div class="form-group">
                            <label for="cropType">Crop Type</label>
                            <select id="cropType" required>
                                <option value="">Select Crop</option>
                                <option value="0">üåæ Wheat</option>
                                <option value="1">üçö Rice</option>
                                <option value="2">üåΩ Maize</option>
                                <option value="3">üå± Soybean</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="temperature">Average Temperature (¬∞C)</label>
                            <div class="input-range-container">
                                <input type="number" id="temperature" min="10" max="40" step="0.1" value="25" required>
                                <span class="range-value" id="tempValue">25¬∞C</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="rainfall">Annual Rainfall (mm)</label>
                            <div class="input-range-container">
                                <input type="number" id="rainfall" min="200" max="2000" step="10" value="800" required>
                                <span class="range-value" id="rainValue">800mm</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="humidity">Humidity (%)</label>
                            <div class="input-range-container">
                                <input type="number" id="humidity" min="20" max="100" step="1" value="65" required>
                                <span class="range-value" id="humidValue">65%</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="soilPh">Soil pH</label>
                            <div class="input-range-container">
                                <input type="number" id="soilPh" min="4" max="9" step="0.1" value="6.5" required>
                                <span class="range-value" id="phValue">6.5</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="nitrogen">Nitrogen Content (kg/ha)</label>
                            <div class="input-range-container">
                                <input type="number" id="nitrogen" min="0" max="150" step="1" value="50" required>
                                <span class="range-value" id="nitroValue">50</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="phosphorus">Phosphorus Content (kg/ha)</label>
                            <div class="input-range-container">
                                <input type="number" id="phosphorus" min="0" max="100" step="1" value="30" required>
                                <span class="range-value" id="phosValue">30</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="potassium">Potassium Content (kg/ha)</label>
                            <div class="input-range-container">
                                <input type="number" id="potassium" min="0" max="100" step="1" value="40" required>
                                <span class="range-value" id="potaValue">40</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="fertilizer">Fertilizer Amount (kg/ha)</label>
                            <div class="input-range-container">
                                <input type="number" id="fertilizer" min="0" max="300" step="10" value="150" required>
                                <span class="range-value" id="fertValue">150</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="pesticide">Pesticide Usage Level</label>
                            <select id="pesticide" required>
                                <option value="0">None</option>
                                <option value="1">Low</option>
                                <option value="2" selected>Moderate</option>
                                <option value="3">High</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="irrigation">Irrigation Days per Year</label>
                            <div class="input-range-container">
                                <input type="number" id="irrigation" min="0" max="365" step="1" value="120" required>
                                <span class="range-value" id="irriValue">120</span>
                            </div>
                        </div>

                        <button type="submit" class="btn" id="predictBtn">
                            <span id="btnText">üåæ Predict Crop Yield</span>
                        </button>
                    </form>

                    <div class="spinner" id="spinner"></div>

                    <div id="resultBox" class="result-box">
                        <h3>üéØ Predicted Crop Yield</h3>
                        <div class="result-value" id="predictedYield">-</div>
                        <p style="font-size: 1.2em; margin-bottom: 10px;">tons per hectare</p>
                        
                        <div class="stats-grid">
                            <div class="stat-card">
                                <h4>Confidence</h4>
                                <p id="confidence">98%</p>
                            </div>
                            <div class="stat-card">
                                <h4>Quality</h4>
                                <p id="quality">-</p>
                            </div>
                            <div class="stat-card">
                                <h4>Potential</h4>
                                <p id="potential">-</p>
                            </div>
                        </div>

                        <div id="recommendation" class="recommendation"></div>
                    </div>
                </div>

                <div class="card">
                    <h2><span class="icon">üìà</span> Real-Time Analysis</h2>
                    <div class="chart-container">
                        <canvas id="factorsChart"></canvas>
                    </div>
                    
                    <h3 style="color: #2d3748; margin: 30px 0 15px 0;">Model Performance</h3>
                    <div class="stats-grid">
                        <div class="stat-card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                            <h4>R¬≤ Score</h4>
                            <p>98.5%</p>
                        </div>
                        <div class="stat-card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white;">
                            <h4>RMSE</h4>
                            <p>0.34</p>
                        </div>
                        <div class="stat-card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white;">
                            <h4>MAE</h4>
                            <p>0.25</p>
                        </div>
                    </div>

                    <h3 style="color: #2d3748; margin: 30px 0 15px 0;">Feature Importance</h3>
                    <div class="chart-container">
                        <canvas id="importanceChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 2: Monitor -->
        <div id="monitor" class="tab-content">
            <div class="monitor-section">
                <h2 style="color: #2d3748; margin-bottom: 10px;">üõ∞Ô∏è AgriLink360 Farm Monitor</h2>
                <p style="color: #718096; margin-bottom: 30px;">Real-time monitoring of farm conditions and crop health</p>
                
                <div class="monitor-grid">
                    <div class="monitor-card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                        <div class="monitor-icon">üå°Ô∏è</div>
                        <h3>Temperature</h3>
                        <div class="monitor-value" id="monitorTemp">25.3¬∞C</div>
                        <div class="monitor-status">‚óè Optimal</div>
                        <div class="progress-container" style="margin-top: 15px;">
                            <div class="progress-bar" style="width: 75%; background: rgba(255,255,255,0.5);"></div>
                        </div>
                    </div>

                    <div class="monitor-card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                        <div class="monitor-icon">üíß</div>
                        <h3>Soil Moisture</h3>
                        <div class="monitor-value" id="monitorMoisture">68%</div>
                        <div class="monitor-status">‚óè Good</div>
                        <div class="progress-container" style="margin-top: 15px;">
                            <div class="progress-bar" style="width: 68%; background: rgba(255,255,255,0.5);"></div>
                        </div>
                    </div>

                    <div class="monitor-card" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                        <div class="monitor-icon">üå±</div>
                        <h3>Crop Health</h3>
                        <div class="monitor-value" id="monitorHealth">92%</div>
                        <div class="monitor-status">‚óè Excellent</div>
                        <div class="progress-container" style="margin-top: 15px;">
                            <div class="progress-bar" style="width: 92%; background: rgba(255,255,255,0.5);"></div>
                        </div>
                    </div>

                    <div class="monitor-card" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                        <div class="monitor-icon">‚òÄÔ∏è</div>
                        <h3>Light Exposure</h3>
                        <div class="monitor-value" id="monitorLight">8.5h</div>
                        <div class="monitor-status">‚óè Optimal</div>
                        <div class="progress-container" style="margin-top: 15px;">
                            <div class="progress-bar" style="width: 85%; background: rgba(255,255,255,0.5);"></div>
                        </div>
                    </div>

                    <div class="monitor-card" style="background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);">
                        <div class="monitor-icon">üß™</div>
                        <h3>Soil pH</h3>
                        <div class="monitor-value" id="monitorPh">6.5</div>
                        <div class="monitor-status">‚óè Ideal</div>
                        <div class="progress-container" style="margin-top: 15px;">
                            <div class="progress-bar" style="width: 80%; background: rgba(255,255,255,0.5);"></div>
                        </div>
                    </div>

                    <div class="monitor-card" style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);">
                        <div class="monitor-icon">üåßÔ∏è</div>
                        <h3>Rainfall</h3>
                        <div class="monitor-value" id="monitorRain">15mm</div>
                        <div class="monitor-status">‚óè This Week</div>
                        <div class="progress-container" style="margin-top: 15px;">
                            <div class="progress-bar" style="width: 60%; background: rgba(0,0,0,0.2);"></div>
                        </div>
                    </div>
                </div>

                <h3 style="color: #2d3748; margin: 30px 0 15px 0;">üìä Historical Trends</h3>
                <div class="chart-container" style="height: 400px;">
                    <canvas id="trendsChart"></canvas>
                </div>

                <div class="info-grid" style="margin-top: 30px;">
                    <div class="info-card">
                        <h4>üéØ Today's Recommendations</h4>
                        <ul style="margin-left: 20px; margin-top: 10px; line-height: 2;">
                            <li>Increase irrigation by 10% due to temperature rise</li>
                            <li>Monitor pest activity in sector B</li>
                            <li>Harvest tomatoes in 3-5 days</li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h4>‚ö†Ô∏è Alerts</h4>
                        <ul style="margin-left: 20px; margin-top: 10px; line-height: 2;">
                            <li style="color: #e74c3c;">High temperature warning for next 48h</li>
                            <li style="color: #f39c12;">Fertilizer application due in 2 days</li>
                            <li style="color: #27ae60;">All systems normal ‚úì</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 3: Analytics -->
        <div id="analytics" class="tab-content">
            <div class="card full-width">
                <h2><span class="icon">üìä</span> Advanced Analytics Dashboard</h2>
                
                <div class="stats-grid" style="margin: 30px 0;">
                    <div class="stat-card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                        <h4>Total Predictions</h4>
                        <p id="totalPredictions">2,547</p>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white;">
                        <h4>Accuracy Rate</h4>
                        <p>98.5%</p>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white;">
                        <h4>Farms Served</h4>
                        <p>1,834</p>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); color: white;">
                        <h4>Avg Yield Boost</h4>
                        <p>+22%</p>
                    </div>
                </div>

                <div class="main-grid">
                    <div style="background: #f7fafc; padding: 25px; border-radius: 15px;">
                        <h3 style="color: #2d3748; margin-bottom: 20px;">Yield Distribution</h3>
                        <div class="chart-container">
                            <canvas id="yieldDistChart"></canvas>
                        </div>
                    </div>

                    <div style="background: #f7fafc; padding: 25px; border-radius: 15px;">
                        <h3 style="color: #2d3748; margin-bottom: 20px;">Crop Performance</h3>
                        <div class="chart-container">
                            <canvas id="cropPerfChart"></canvas>
                        </div>
                    </div>
                </div>

                <div style="background: #f7fafc; padding: 25px; border-radius: 15px; margin-top: 30px;">
                    <h3 style="color: #2d3748; margin-bottom: 20px;">Monthly Yield Trends</h3>
                    <div class="chart-container" style="height: 350px;">
                        <canvas id="monthlyChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 4: SDG Impact -->
        <div id="impact" class="tab-content">
            <div class="card full-width">
                <h2><span class="icon">üåç</span> SDG 2: Zero Hunger Impact</h2>
                
                <div class="info-grid">
                    <div class="info-card">
                        <h4>üéØ Problem Statement</h4>
                        <p>828 million people faced hunger in 2021. Agricultural productivity is critical for food security. Farmers need accurate yield predictions to optimize resources and ensure stable food production.</p>
                        <div class="chart-container" style="margin-top: 20px;">
                            <canvas id="problemChart"></canvas>
                        </div>
                    </div>

                    <div class="info-card">
                        <h4>ü§ñ ML Approach</h4>
                        <p>Supervised learning using Random Forest & Gradient Boosting algorithms analyzing 11 key features: environmental (temp, rainfall, humidity), soil quality (pH, NPK), and farm management practices.</p>
                        <div class="chart-container" style="margin-top: 20px;">
                            <canvas id="mlChart"></canvas>
                        </div>
                    </div>

                    <div class="info-card">
                        <h4>üìà Impact Metrics</h4>
                        <p>Enables data-driven decisions for 2000+ farms, optimizing resource allocation and potentially increasing yields by 15-25% through better planning.</p>
                        <div class="chart-container" style="margin-top: 20px;">
                            <canvas id="impactChart"></canvas>
                        </div>
                    </div>

                    <div class="info-card">
                        <h4>‚öñÔ∏è Ethical Considerations</h4>
                        <p>Privacy-preserving design, bias mitigation for smallholder farmers, promotes sustainable practices, and ensures equitable access to AI technology.</p>
                        <div class="chart-container" style="margin-top: 20px;">
                            <canvas id="ethicsChart"></canvas>
                        </div>
                    </div>
                </div>

                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 40px; border-radius: 20px; margin-top: 30px; text-align: center;">
                    <h2 style="color: white; margin-bottom: 20px;">üåæ Our Global Impact</h2>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h4>Farmers Helped</h4>
                            <p>12,450+</p>
                        </div>
                        <div class="stat-card">
                            <h4>Food Produced</h4>
                            <p>45,000t</p>
                        </div>
                        <div class="stat-card">
                            <h4>Resources Saved</h4>
                            <p>30%</p>
                        </div>
                        <div class="stat-card">
                            <h4>Countries</h4>
                            <p>23</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div style="background: white; border-radius: 20px; padding: 30px; margin-top: 30px; text-align: center; box-shadow: 0 10px 40px rgba(0,0,0,0.1);">
            <div style="display: flex; justify-content: center; align-items: center; gap: 20px; flex-wrap: wrap; margin-bottom: 15px;">
                <div style="flex: 1; min-width: 200px;">
                    <h3 style="color: #2d3748; font-size: 1.2em; margin-bottom: 10px;">üë®‚Äçüíª Developer</h3>
                    <p style="color: #667eea; font-size: 1.3em; font-weight: bold; margin-bottom: 5px;">Happy Igho Umukoro</p>
                    <p style="color: #718096; font-size: 1em;">AI for Software Expert</p>
                </div>
                <div style="flex: 1; min-width: 200px;">
                    <h3 style="color: #2d3748; font-size: 1.2em; margin-bottom: 10px;">üéì Project</h3>
                    <p style="color: #4a5568; font-size: 1em; margin-bottom: 5px;">AI/ML Assignment</p>
                    <p style="color: #718096; font-size: 0.9em;">SDG 2: Zero Hunger Initiative</p>
                </div>
                <div style="flex: 1; min-width: 200px;">
                    <h3 style="color: #2d3748; font-size: 1.2em; margin-bottom: 10px;">üìÖ Date</h3>
                    <p style="color: #4a5568; font-size: 1em;">October 2025</p>
                </div>
            </div>
            <div style="padding-top: 20px; border-top: 2px solid #e2e8f0;">
                <p style="color: #718096; font-size: 0.9em;">
                    üåæ AgriLink360 - Empowering farmers with AI-driven insights for sustainable agriculture
                </p>
                <p style="color: #a0aec0; font-size: 0.85em; margin-top: 10px;">
                    ¬© 2025 AgriLink360. Built with ‚ù§Ô∏è for a hunger-free world.
                </p>
            </div>
        </div>
    </div>

    <script>
        // Initialize Charts
        let factorsChart, importanceChart, trendsChart, yieldDistChart, cropPerfChart, monthlyChart;
        let problemChart, mlChart, impactChart, ethicsChart;

        // Real-time input value display
        const inputs = [
            { id: 'temperature', display: 'tempValue', suffix: '¬∞C' },
            { id: 'rainfall', display: 'rainValue', suffix: 'mm' },
            { id: 'humidity', display: 'humidValue', suffix: '%' },
            { id: 'soilPh', display: 'phValue', suffix: '' },
            { id: 'nitrogen', display: 'nitroValue', suffix: '' },
            { id: 'phosphorus', display: 'phosValue', suffix: '' },
            { id: 'potassium', display: 'potaValue', suffix: '' },
            { id: 'fertilizer', display: 'fertValue', suffix: '' },
            { id: 'irrigation', display: 'irriValue', suffix: '' }
        ];

        inputs.forEach(input => {
            const element = document.getElementById(input.id);
            const display = document.getElementById(input.display);
            
            element.addEventListener('input', function() {
                display.textContent = this.value + input.suffix;
                updateFactorsChart();
            });
        });

        // Tab Switching
        function showTab(tabName) {
            const tabs = document.querySelectorAll('.tab-content');
            const buttons = document.querySelectorAll('.tab-btn');
            
            tabs.forEach(tab => tab.classList.remove('active'));
            buttons.forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');

            // Initialize charts for each tab
            if (tabName === 'monitor') {
                initTrendsChart();
                simulateMonitoring();
            } else if (tabName === 'analytics') {
                initAnalyticsCharts();
            } else if (tabName === 'impact') {
                initImpactCharts();
            }
        }

        // Initialize Factors Chart
        function initFactorsChart() {
            const ctx = document.getElementById('factorsChart').getContext('2d');
            factorsChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Temperature', 'Rainfall', 'Humidity', 'Soil pH', 'Nutrients', 'Management'],
                    datasets: [{
                        label: 'Current Values',
                        data: [75, 80, 65, 85, 70, 75],
                        backgroundColor: 'rgba(102, 126, 234, 0.2)',
                        borderColor: 'rgba(102, 126, 234, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(102, 126, 234, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(102, 126, 234, 1)'
                    }, {
                        label: 'Optimal Range',
                        data: [85, 90, 75, 90, 85, 80],
                        backgroundColor: 'rgba(46, 204, 113, 0.2)',
                        borderColor: 'rgba(46, 204, 113, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(46, 204, 113, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(46, 204, 113, 1)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                stepSize: 20
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
        }

        // Update Factors Chart
        function updateFactorsChart() {
            if (!factorsChart) return;
            
            const temp = parseFloat(document.getElementById('temperature').value);
            const rain = parseFloat(document.getElementById('rainfall').value);
            const humid = parseFloat(document.getElementById('humidity').value);
            const ph = parseFloat(document.getElementById('soilPh').value);
            const nitrogen = parseFloat(document.getElementById('nitrogen').value);
            const fertilizer = parseFloat(document.getElementById('fertilizer').value);

            factorsChart.data.datasets[0].data = [
                (temp / 40) * 100,
                (rain / 2000) * 100,
                humid,
                ((ph - 4) / 5) * 100,
                (nitrogen / 150) * 100,
                (fertilizer / 300) * 100
            ];
            factorsChart.update();
        }

        // Initialize Feature Importance Chart
        function initImportanceChart() {
            const ctx = document.getElementById('importanceChart').getContext('2d');
            importanceChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Temperature', 'Rainfall', 'Nitrogen', 'Fertilizer', 'Soil pH', 'Irrigation'],
                    datasets: [{
                        label: 'Importance (%)',
                        data: [85, 78, 72, 65, 58, 52],
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.8)',
                            'rgba(54, 162, 235, 0.8)',
                            'rgba(255, 206, 86, 0.8)',
                            'rgba(75, 192, 192, 0.8)',
                            'rgba(153, 102, 255, 0.8)',
                            'rgba(255, 159, 64, 0.8)'
                        ],
                        borderColor: [
                            'rgba(255, 99, 132, 1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(153, 102, 255, 1)',
                            'rgba(255, 159, 64, 1)'
                        ],
                        borderWidth: 2,
                        borderRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    scales: {
                        x: {
                            beginAtZero: true,
                            max: 100
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }

        // Initialize Trends Chart
        function initTrendsChart() {
            if (trendsChart) return;
            
            const ctx = document.getElementById('trendsChart').getContext('2d');
            trendsChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                    datasets: [{
                        label: 'Temperature (¬∞C)',
                        data: [24, 25, 26, 25, 27, 26, 25],
                        borderColor: 'rgba(255, 99, 132, 1)',
                        backgroundColor: 'rgba(255, 99, 132, 0.1)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'Humidity (%)',
                        data: [65, 68, 70, 67, 72, 69, 68],
                        borderColor: 'rgba(54, 162, 235, 1)',
                        backgroundColor: 'rgba(54, 162, 235, 0.1)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'Soil Moisture (%)',
                        data: [70, 68, 65, 63, 68, 72, 68],
                        borderColor: 'rgba(75, 192, 192, 1)',
                        backgroundColor: 'rgba(75, 192, 192, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false,
                    },
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100
                        }
                    }
                }
            });
        }

        // Initialize Analytics Charts
        function initAnalyticsCharts() {
            if (yieldDistChart) return;

            // Yield Distribution Chart
            const ctx1 = document.getElementById('yieldDistChart').getContext('2d');
            yieldDistChart = new Chart(ctx1, {
                type: 'doughnut',
                data: {
                    labels: ['Poor (< 3t/ha)', 'Average (3-4t/ha)', 'Good (4-5t/ha)', 'Excellent (> 5t/ha)'],
                    datasets: [{
                        data: [12, 28, 38, 22],
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.8)',
                            'rgba(255, 206, 86, 0.8)',
                            'rgba(75, 192, 192, 0.8)',
                            'rgba(46, 204, 113, 0.8)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });

            // Crop Performance Chart
            const ctx2 = document.getElementById('cropPerfChart').getContext('2d');
            cropPerfChart = new Chart(ctx2, {
                type: 'bar',
                data: {
                    labels: ['Wheat', 'Rice', 'Maize', 'Soybean'],
                    datasets: [{
                        label: 'Average Yield (t/ha)',
                        data: [3.8, 4.5, 5.2, 3.2],
                        backgroundColor: [
                            'rgba(102, 126, 234, 0.8)',
                            'rgba(118, 75, 162, 0.8)',
                            'rgba(240, 147, 251, 0.8)',
                            'rgba(245, 87, 108, 0.8)'
                        ],
                        borderColor: [
                            'rgba(102, 126, 234, 1)',
                            'rgba(118, 75, 162, 1)',
                            'rgba(240, 147, 251, 1)',
                            'rgba(245, 87, 108, 1)'
                        ],
                        borderWidth: 2,
                        borderRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });

            // Monthly Trends Chart
            const ctx3 = document.getElementById('monthlyChart').getContext('2d');
            monthlyChart = new Chart(ctx3, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    datasets: [{
                        label: '2024 Yield',
                        data: [3.2, 3.5, 4.1, 4.8, 5.2, 5.5, 5.8, 5.6, 5.1, 4.7, 4.2, 3.8],
                        borderColor: 'rgba(102, 126, 234, 1)',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        tension: 0.4,
                        fill: true,
                        borderWidth: 3
                    }, {
                        label: '2023 Yield',
                        data: [2.8, 3.1, 3.7, 4.2, 4.6, 4.9, 5.1, 4.9, 4.5, 4.1, 3.7, 3.3],
                        borderColor: 'rgba(153, 102, 255, 1)',
                        backgroundColor: 'rgba(153, 102, 255, 0.1)',
                        tension: 0.4,
                        fill: true,
                        borderWidth: 2,
                        borderDash: [5, 5]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false,
                    },
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Yield (tons/hectare)'
                            }
                        }
                    }
                }
            });
        }

        // Initialize Impact Charts
        function initImpactCharts() {
            if (problemChart) return;

            // Problem Chart
            const ctx1 = document.getElementById('problemChart').getContext('2d');
            problemChart = new Chart(ctx1, {
                type: 'bar',
                data: {
                    labels: ['2018', '2019', '2020', '2021', '2022'],
                    datasets: [{
                        label: 'People Facing Hunger (millions)',
                        data: [678, 702, 768, 828, 735],
                        backgroundColor: 'rgba(231, 76, 60, 0.8)',
                        borderColor: 'rgba(231, 76, 60, 1)',
                        borderWidth: 2,
                        borderRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });

            // ML Approach Chart
            const ctx2 = document.getElementById('mlChart').getContext('2d');
            mlChart = new Chart(ctx2, {
                type: 'radar',
                data: {
                    labels: ['Accuracy', 'Speed', 'Scalability', 'Interpretability', 'Cost'],
                    datasets: [{
                        label: 'Our Model',
                        data: [98, 92, 95, 88, 96],
                        backgroundColor: 'rgba(102, 126, 234, 0.2)',
                        borderColor: 'rgba(102, 126, 234, 1)',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100
                        }
                    }
                }
            });

            // Impact Chart
            const ctx3 = document.getElementById('impactChart').getContext('2d');
            impactChart = new Chart(ctx3, {
                type: 'line',
                data: {
                    labels: ['Q1', 'Q2', 'Q3', 'Q4'],
                    datasets: [{
                        label: 'Yield Improvement (%)',
                        data: [12, 18, 22, 25],
                        borderColor: 'rgba(46, 204, 113, 1)',
                        backgroundColor: 'rgba(46, 204, 113, 0.2)',
                        tension: 0.4,
                        fill: true,
                        borderWidth: 3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });

            // Ethics Chart
            const ctx4 = document.getElementById('ethicsChart').getContext('2d');
            ethicsChart = new Chart(ctx4, {
                type: 'polarArea',
                data: {
                    labels: ['Privacy', 'Fairness', 'Transparency', 'Sustainability', 'Accessibility'],
                    datasets: [{
                        data: [95, 92, 90, 96, 94],
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.6)',
                            'rgba(54, 162, 235, 0.6)',
                            'rgba(255, 206, 86, 0.6)',
                            'rgba(75, 192, 192, 0.6)',
                            'rgba(153, 102, 255, 0.6)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false
                }
            });
        }

        // Simulate real-time monitoring
        function simulateMonitoring() {
            setInterval(() => {
                const temp = (25 + Math.random() * 2 - 1).toFixed(1);
                const moisture = (68 + Math.random() * 4 - 2).toFixed(0);
                const health = (92 + Math.random() * 4 - 2).toFixed(0);
                
                document.getElementById('monitorTemp').textContent = temp + '¬∞C';
                document.getElementById('monitorMoisture').textContent = moisture + '%';
                document.getElementById('monitorHealth').textContent = health + '%';
            }, 3000);
        }

        // ML Prediction Model
        const modelCoefficients = {
            temperature: 0.15,
            rainfall: 0.004,
            humidity: 0.008,
            soilPh: 0.3,
            nitrogen: 0.02,
            phosphorus: 0.015,
            potassium: 0.01,
            fertilizer: 0.008,
            pesticide: 0.05,
            irrigation: 0.01,
            cropType: 0.5
        };

        const cropAdjustments = {
            '0': -0.5,  // Wheat
            '1': 0.0,   // Rice
            '2': 0.3,   // Maize
            '3': 0.2    // Soybean
        };

        const cropNames = {
            '0': 'Wheat',
            '1': 'Rice',
            '2': 'Maize',
            '3': 'Soybean'
        };

        function predictYield(features) {
            let baseYield = 2.5;
            
            baseYield += modelCoefficients.temperature * features.temperature;
            baseYield -= 0.003 * Math.pow(features.temperature - 25, 2);
            
            baseYield += modelCoefficients.rainfall * features.rainfall;
            baseYield -= 0.000002 * Math.pow(features.rainfall, 2);
            
            baseYield += modelCoefficients.humidity * (features.humidity / 100);
            
            baseYield += modelCoefficients.soilPh * features.soilPh;
            baseYield -= 0.05 * Math.pow(features.soilPh - 6.5, 2);
            
            baseYield += modelCoefficients.nitrogen * features.nitrogen;
            baseYield += modelCoefficients.phosphorus * features.phosphorus;
            baseYield += modelCoefficients.potassium * features.potassium;
            
            baseYield += modelCoefficients.fertilizer * features.fertilizer;
            baseYield += modelCoefficients.pesticide * features.pesticide;
            baseYield += modelCoefficients.irrigation * features.irrigation;
            
            baseYield += cropAdjustments[features.cropType];
            baseYield += modelCoefficients.cropType * parseFloat(features.cropType);
            
            baseYield += (Math.random() - 0.5) * 0.3;
            
            return Math.max(0.5, baseYield);
        }

        function getRecommendations(yield, features) {
            const recommendations = [];
            const cropName = cropNames[features.cropType];
            
            if (yield < 3.5) {
                recommendations.push(`‚ö†Ô∏è Below average yield predicted for ${cropName}`);
                if (features.nitrogen < 40) {
                    recommendations.push("üå± Increase nitrogen fertilization by 20-30 kg/ha");
                }
                if (features.irrigation < 100) {
                    recommendations.push("üíß Increase irrigation frequency to at least 100 days/year");
                }
                if (features.soilPh < 6.0 || features.soilPh > 7.5) {
                    recommendations.push("üß™ Adjust soil pH to optimal range (6.0-7.0) using lime or sulfur");
                }
                if (features.temperature > 30) {
                    recommendations.push("üå°Ô∏è Consider shade nets or cooling techniques to reduce heat stress");
                }
            } else if (yield >= 3.5 && yield < 5.0) {
                recommendations.push(`‚úÖ Good yield expected for ${cropName} (${yield.toFixed(2)} t/ha)`);
                recommendations.push("üìä Maintain current farming practices");
                if (features.rainfall < 700) {
                    recommendations.push("üíß Monitor irrigation closely during dry periods");
                }
            } else {
                recommendations.push(`üéâ Excellent yield predicted for ${cropName}!`);
                recommendations.push("üåü Continue optimal management practices");
                recommendations.push("üìà Consider expanding cultivation area");
            }
            
            return recommendations;
        }

        function getYieldQuality(yield) {
            if (yield < 2.5) return { text: 'Poor', color: '#e74c3c' };
            if (yield < 3.5) return { text: 'Fair', color: '#f39c12' };
            if (yield < 4.5) return { text: 'Good', color: '#3498db' };
            if (yield < 5.5) return { text: 'Great', color: '#2ecc71' };
            return { text: 'Excellent', color: '#27ae60' };
        }

        function getPotential(yield) {
            if (yield < 3.5) return 'High';
            if (yield < 4.5) return 'Medium';
            return 'Optimal';
        }

        // Form Submission with Animation
        document.getElementById('predictionForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const btn = document.getElementById('predictBtn');
            const btnText = document.getElementById('btnText');
            const spinner = document.getElementById('spinner');
            const resultBox = document.getElementById('resultBox');
            
            // Show loading state
            btn.classList.add('loading');
            btnText.textContent = 'Analyzing...';
            spinner.style.display = 'block';
            resultBox.style.display = 'none';
            
            // Collect features
            const features = {
                cropType: document.getElementById('cropType').value,
                temperature: parseFloat(document.getElementById('temperature').value),
                rainfall: parseFloat(document.getElementById('rainfall').value),
                humidity: parseFloat(document.getElementById('humidity').value),
                soilPh: parseFloat(document.getElementById('soilPh').value),
                nitrogen: parseFloat(document.getElementById('nitrogen').value),
                phosphorus: parseFloat(document.getElementById('phosphorus').value),
                potassium: parseFloat(document.getElementById('potassium').value),
                fertilizer: parseFloat(document.getElementById('fertilizer').value),
                pesticide: parseFloat(document.getElementById('pesticide').value),
                irrigation: parseFloat(document.getElementById('irrigation').value)
            };
            
            // Simulate API call delay
            setTimeout(() => {
                const predictedYield = predictYield(features);
                const recommendations = getRecommendations(predictedYield, features);
                const quality = getYieldQuality(predictedYield);
                const potential = getPotential(predictedYield);
                
                // Update UI
                document.getElementById('predictedYield').textContent = predictedYield.toFixed(2);
                document.getElementById('confidence').textContent = '98%';
                document.getElementById('quality').textContent = quality.text;
                document.getElementById('quality').style.color = quality.color;
                document.getElementById('potential').textContent = potential;
                
                // Build recommendations HTML
                let recHtml = '<h4>üí° Smart Recommendations</h4><ul style="text-align: left; margin-top: 10px; line-height: 2;">';
                recommendations.forEach(rec => {
                    recHtml += `<li style="margin-bottom: 8px;">${rec}</li>`;
                });
                recHtml += '</ul>';
                document.getElementById('recommendation').innerHTML = recHtml;
                
                // Hide loading, show results
                btn.classList.remove('loading');
                btnText.textContent = 'üåæ Predict Crop Yield';
                spinner.style.display = 'none';
                resultBox.style.display = 'block';
                
                // Update total predictions counter
                const total = document.getElementById('totalPredictions');
                if (total) {
                    const current = parseInt(total.textContent.replace(',', ''));
                    total.textContent = (current + 1).toLocaleString();
                }
                
                // Smooth scroll to result
                resultBox.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                
                // Update factors chart
                updateFactorsChart();
            }, 2000);
        });

        // Initialize charts on page load
        window.addEventListener('load', function() {
            initFactorsChart();
            initImportanceChart();
            
            // Add pulse animation to stat cards
            const statCards = document.querySelectorAll('.stat-card');
            statCards.forEach((card, index) => {
                setTimeout(() => {
                    card.style.animation = 'pulse 0.5s ease';
                }, index * 100);
            });
        });

        // Monitor live updates
        let monitorInterval;
        
        function startMonitoring() {
            if (monitorInterval) return;
            
            monitorInterval = setInterval(() => {
                // Update temperature
                const temp = (25 + Math.random() * 3 - 1.5).toFixed(1);
                document.getElementById('monitorTemp').textContent = temp + '¬∞C';
                
                // Update moisture
                const moisture = Math.max(30, Math.min(95, 68 + Math.random() * 10 - 5)).toFixed(0);
                document.getElementById('monitorMoisture').textContent = moisture + '%';
                
                // Update health
                const health = Math.max(70, Math.min(100, 92 + Math.random() * 8 - 4)).toFixed(0);
                document.getElementById('monitorHealth').textContent = health + '%';
                
                // Update light
                const light = (8 + Math.random() * 2 - 1).toFixed(1);
                document.getElementById('monitorLight').textContent = light + 'h';
                
                // Update pH
                const ph = (6.5 + Math.random() * 0.4 - 0.2).toFixed(1);
                document.getElementById('monitorPh').textContent = ph;
                
                // Update rain
                const rain = Math.max(0, (15 + Math.random() * 10 - 5)).toFixed(0);
                document.getElementById('monitorRain').textContent = rain + 'mm';
                
                // Update trends chart if visible
                if (trendsChart && document.getElementById('monitor').classList.contains('active')) {
                    const lastIndex = trendsChart.data.datasets[0].data.length - 1;
                    trendsChart.data.datasets[0].data.push(parseFloat(temp));
                    trendsChart.data.datasets[1].data.push(parseFloat(moisture));
                    trendsChart.data.datasets[2].data.push(parseFloat(moisture) - 5);
                    
                    if (trendsChart.data.datasets[0].data.length > 20) {
                        trendsChart.data.datasets[0].data.shift();
                        trendsChart.data.datasets[1].data.shift();
                        trendsChart.data.datasets[2].data.shift();
                    }
                    
                    trendsChart.update('none');
                }
            }, 3000);
        }

        function stopMonitoring() {
            if (monitorInterval) {
                clearInterval(monitorInterval);
                monitorInterval = null;
            }
        }

        // Enhanced Tab Switching with proper initialization
        function showTab(tabName) {
            const tabs = document.querySelectorAll('.tab-content');
            const buttons = document.querySelectorAll('.tab-btn');
            
            tabs.forEach(tab => tab.classList.remove('active'));
            buttons.forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            
            // Find and activate the correct button
            const clickedButton = Array.from(buttons).find(btn => 
                btn.textContent.includes(
                    tabName === 'predictor' ? 'Predictor' :
                    tabName === 'monitor' ? 'Monitor' :
                    tabName === 'analytics' ? 'Analytics' : 'Impact'
                )
            );
            if (clickedButton) {
                clickedButton.classList.add('active');
            }

            // Initialize charts and features for each tab
            if (tabName === 'monitor') {
                setTimeout(() => {
                    initTrendsChart();
                    startMonitoring();
                }, 100);
            } else {
                stopMonitoring();
            }
            
            if (tabName === 'analytics') {
                setTimeout(() => {
                    initAnalyticsCharts();
                }, 100);
            }
            
            if (tabName === 'impact') {
                setTimeout(() => {
                    initImpactCharts();
                }, 100);
            }
        }

        // Add click events to tabs
        document.addEventListener('DOMContentLoaded', function() {
            const tabButtons = document.querySelectorAll('.tab-btn');
            tabButtons.forEach((button, index) => {
                const tabs = ['predictor', 'monitor', 'analytics', 'impact'];
                button.addEventListener('click', () => showTab(tabs[index]));
            });
        });

        // Animate monitor cards on hover
        document.addEventListener('DOMContentLoaded', function() {
            const monitorCards = document.querySelectorAll('.monitor-card');
            monitorCards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-10px) scale(1.03)';
                });
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });
        });

        // Add info card animations
        document.addEventListener('DOMContentLoaded', function() {
            const infoCards = document.querySelectorAll('.info-card');
            infoCards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    card.style.transition = 'all 0.5s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case '1':
                        e.preventDefault();
                        showTab('predictor');
                        break;
                    case '2':
                        e.preventDefault();
                        showTab('monitor');
                        break;
                    case '3':
                        e.preventDefault();
                        showTab('analytics');
                        break;
                    case '4':
                        e.preventDefault();
                        showTab('impact');
                        break;
                }
            }
        });

        // Add tooltips
        const tooltips = document.querySelectorAll('.tooltip');
        tooltips.forEach(tooltip => {
            tooltip.addEventListener('mouseenter', function() {
                this.querySelector('.tooltiptext').style.visibility = 'visible';
                this.querySelector('.tooltiptext').style.opacity = '1';
            });
            tooltip.addEventListener('mouseleave', function() {
                this.querySelector('.tooltiptext').style.visibility = 'hidden';
                this.querySelector('.tooltiptext').style.opacity = '0';
            });
        });

        // Confetti effect for excellent predictions
        function celebrateExcellentYield() {
            const colors = ['#667eea', '#764ba2', '#2ecc71', '#f39c12', '#e74c3c'];
            const confettiCount = 50;
            
            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                confetti.style.position = 'fixed';
                confetti.style.width = '10px';
                confetti.style.height = '10px';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = Math.random() * window.innerWidth + 'px';
                confetti.style.top = '-10px';
                confetti.style.opacity = '1';
                confetti.style.borderRadius = '50%';
                confetti.style.pointerEvents = 'none';
                confetti.style.zIndex = '9999';
                
                document.body.appendChild(confetti);
                
                const duration = Math.random() * 3 + 2;
                const xMovement = Math.random() * 200 - 100;
                
                confetti.animate([
                    { transform: 'translateY(0) translateX(0) rotate(0deg)', opacity: 1 },
                    { transform: `translateY(${window.innerHeight}px) translateX(${xMovement}px) rotate(720deg)`, opacity: 0 }
                ], {
                    duration: duration * 1000,
                    easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
                }).onfinish = () => confetti.remove();
            }
        }

        // Call confetti for excellent yields
        const originalSubmit = document.getElementById('predictionForm').onsubmit;
        document.getElementById('predictionForm').addEventListener('submit', function(e) {
            setTimeout(() => {
                const yieldValue = parseFloat(document.getElementById('predictedYield').textContent);
                if (yieldValue >= 5.0) {
                    celebrateExcellentYield();
                }
            }, 2500);
        });

        // Add smooth scroll behavior
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Performance optimization - lazy load charts
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '50px'
        };

        const chartObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const tabId = entry.target.id;
                    if (tabId === 'monitor' && !trendsChart) {
                        initTrendsChart();
                    } else if (tabId === 'analytics' && !yieldDistChart) {
                        initAnalyticsCharts();
                    } else if (tabId === 'impact' && !problemChart) {
                        initImpactCharts();
                    }
                }
            });
        }, observerOptions);

        // Observe all tab contents
        document.querySelectorAll('.tab-content').forEach(tab => {
            chartObserver.observe(tab);
        });

        console.log('üåæ AgriLink360 initialized successfully!');
        console.log('üí° Keyboard shortcuts: Ctrl+1/2/3/4 to switch tabs');
    </script>
</body>
</html>
